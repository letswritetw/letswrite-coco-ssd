!function(){"use strict";const{createApp:t}=Vue;t({data:()=>({customImg:null,result:null,loading:!1,modal:null}),computed:{resultText(){return this.result?this.result.map((t=>`${t.class} (${(100*t.score).toFixed(2)}%)`)).join(", "):"尚未辨識"}},methods:{async photoHandler(){const t=this.$refs.photo.files[0];if(!t)return;this.loading=!0,this.model=this.model||await cocoSsd.load();const e=document.createElement("img");e.src=URL.createObjectURL(t),e.onload=async()=>{this.result=await this.model.detect(e),console.log(this.result),this.drawFace(e,this.result),URL.revokeObjectURL(e.src)}},async drawFace(t,e){const l=document.getElementById("canvas"),o=l.getContext("2d");l.width=t.width,l.height=t.height,o.drawImage(t,0,0,l.width,l.height);for(let t of e){const[e,l,s,i]=t.bbox,c=`${t.class} (${(100*t.score).toFixed(2)}%)`;o.strokeStyle="yellow",o.lineWidth=8,o.strokeRect(e,l,s,i),o.font="28px Arial",o.fillStyle="yellow";const n=o.measureText(c).width,a=42,d=8;o.fillStyle="white",o.fillRect(e-d,l-20-a-d,n+2*d,a+2*d),o.fillStyle="black",o.fillText(c,e+d/2,l-10-a/2)}this.loading=!1}},mounted(){console.log("App mounted!")}}).mount("#app")}();